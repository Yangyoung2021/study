# 存储引擎、索引

## 1、存储引擎在MySQL的位置

<font color='red' size='5'>MySQL主要分为四层结构</font>（索引处在第三层，所以不同的存储引擎的索引不同）

* 第一层（网络连接层）
  主要用来数据库的连接、权限认证校验的功能

* 第二层（服务层）

  负责核心功能的处理，包括SQL的解析、SQL优化、缓存等方面

* 第三层（存储引擎）

  MySQL中用来决定数据存放的具体方式

* 第四层（数据存储层）
  用于将数据放在运行的文件系统中

![图片](https://images-roland.oss-cn-shenzhen.aliyuncs.com/blog/mysql/202208061121197.png)

## 2、常见的存储引擎

### 2.1 InnoDB

* 从MySQL5.5版本开始，成为了其默认的存储引擎，具有最重要的三大特性是<font color=red size=4>DML支持ACID事务、外键、行锁</font>。

### 2.2 MyISAM

* MySQL5.5之前版本的默认存储引擎，不支持事务和外键，只支持表锁，并发性能较差，目前被MongoDB代替。

### 2.3 MEMORY

* 利用内存创建表，访问速度非常快，因为数据在内存，而且默认使用Hash索引，所以不能支持范围查询。另外数据库一旦关闭，数据就会丢失，一般用作临时表。目前被Redis代替。

## 3、InnoDB索引

### 3.1 定义及优缺点

* 在关系数据库中，索引是一种单独的、物理的对数据库表中一列或多列的值进行排序的一种存储结构，它是某个表中一列或若干列值的集合和相应的指向表中物理标识这些值的数据页的逻辑指针清单。索引的作用相当于图书的目录，可以根据目录中的页码快速找到所需的内容。

* 索引最大的优势就是能很大程度上加快查询速度。但是与此同时也让DML语句增加了维护索引的额外消耗，因此建议当数据量比较大（百万）且大部分操作为查询操作时须建立相对应的索引。

